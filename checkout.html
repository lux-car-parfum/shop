<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: #f9f9f9;
      color: #333;
    }

    header, footer {
      background-color: #111;
      padding: 1rem 2rem;
    }

    nav {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: 700;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #ccc;
    }

    nav .cart-icon {
      font-size: 1.2rem;
      filter: brightness(3);
    }

    main {
      max-width: 600px;
      margin: 2rem auto;
      padding: 2rem;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    label {
      display: block;
      margin-top: 1rem;
      font-weight: 600;
    }

    input, select {
      width: 100%;
      padding: 0.75rem;
      margin-top: 0.5rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    input::placeholder {
      color: #aaa;
    }

    button {
      margin-top: 2rem;
      background-color: #111;
      color: #fff;
      padding: 1rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
    }

    .success-message {
      margin-top: 2rem;
      font-size: 1.1rem;
      color: green;
      text-align: center;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #fff;
      margin-top: 3rem;
    }
  </style>
</head>
<body>

  <header>
    <nav>
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="about.html">–ü—Ä–æ –Ω–∞—Å</a>
      <a href="cart.html" title="–ö–æ—à–∏–∫">
        <span class="cart-icon">üõí</span>
      </a>
    </nav>
  </header>

  <main>
    <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

    <form id="checkout-form">
  <label for="firstName">–Ü–º‚Äô—è</label>
  <input type="text" id="firstName" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º‚Äô—è" required>

  <label for="lastName">–ü—Ä—ñ–∑–≤–∏—â–µ</label>
  <input type="text" id="lastName" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø—Ä—ñ–∑–≤–∏—â–µ" required>

  <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
  <input type="tel" id="phone" placeholder="+380 __ ___ __ __" required>

  <label for="region">–û–±–ª–∞—Å—Ç—å</label>
  <input type="text" id="region" placeholder="–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –æ–±–ª–∞—Å—Ç—å" list="region-list" required>
  <datalist id="region-list"></datalist>

  <label for="city">–ú—ñ—Å—Ç–æ</label>
  <input type="text" id="city" placeholder="–í–≤–µ–¥—ñ—Ç—å –º—ñ—Å—Ç–æ" list="city-list" required>
  <datalist id="city-list"></datalist>

  <label for="warehouse">–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è</label>
  <input type="text" id="warehouse" placeholder="–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–æ–º–µ—Ä –∞–±–æ –∞–¥—Ä–µ—Å—É –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è" required list="warehouse-list">
  <datalist id="warehouse-list"></datalist>

  <label for="paymentMethod">–°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏</label>
<select id="paymentMethod" required>
  <option value="cod">–ü—ñ—Å–ª—è–ø–ª–∞—Ç–∞ (–Ω–∞ –ø–æ—à—Ç—ñ)</option>
  <option value="prepay">–ü–µ—Ä–µ–¥–ø–ª–∞—Ç–∞ (–∫–∞—Ä—Ç–∫–æ—é)</option>
</select>

<input type="hidden" id="totalAmount" name="amount" />


  <button type="submit">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏</button>
</form>

    <div class="success-message" id="success-message" style="display: none;">
      –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —Ç–∞ –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ 1 –¥–Ω—è.
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Lux Car Parfum. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
  </footer>

  <script>
    const regionList = [
      "–í—ñ–Ω–Ω–∏—Ü—å–∫–∞", "–í–æ–ª–∏–Ω—Å—å–∫–∞", "–î–Ω—ñ–ø—Ä–æ–ø–µ—Ç—Ä–æ–≤—Å—å–∫–∞", "–î–æ–Ω–µ—Ü—å–∫–∞", "–ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞",
      "–ó–∞–∫–∞—Ä–ø–∞—Ç—Å—å–∫–∞", "–ó–∞–ø–æ—Ä—ñ–∑—å–∫–∞", "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫–∞", "–ö–∏—ó–≤—Å—å–∫–∞", "–ö—ñ—Ä–æ–≤–æ–≥—Ä–∞–¥—Å—å–∫–∞",
      "–õ—É–≥–∞–Ω—Å—å–∫–∞", "–õ—å–≤—ñ–≤—Å—å–∫–∞", "–ú–∏–∫–æ–ª–∞—ó–≤—Å—å–∫–∞", "–û–¥–µ—Å—å–∫–∞", "–ü–æ–ª—Ç–∞–≤—Å—å–∫–∞",
      "–†—ñ–≤–Ω–µ–Ω—Å—å–∫–∞", "–°—É–º—Å—å–∫–∞", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∞", "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∞", "–•–µ—Ä—Å–æ–Ω—Å—å–∫–∞",
      "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∞", "–ß–µ—Ä–∫–∞—Å—å–∫–∞", "–ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∞", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤—Å—å–∫–∞",
      "–º. –ö–∏—ó–≤", "–º. –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å", "–ê–† –ö—Ä–∏–º"
    ];

    const regionDatalist = document.getElementById('region-list');
    regionList.forEach(region => {
      const option = document.createElement('option');
      option.value = region;
      regionDatalist.appendChild(option);
    });

    document.getElementById('city').addEventListener('input', function () {
      const query = this.value.trim();
      if (query.length < 2) return;

      fetch('https://api.novaposhta.ua/v2.0/json/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          apiKey: '056bc4d43a3655c3ff721c071c38b8fc',
          modelName: 'Address',
          calledMethod: 'searchSettlements',
          methodProperties: { CityName: query, Limit: 20 }
        })
      })
      .then(res => res.json())
      .then(data => {
        const cityList = document.getElementById('city-list');
        cityList.innerHTML = '';

        if (data.success && data.data[0].Addresses.length > 0) {
          data.data[0].Addresses.forEach(city => {
            const option = document.createElement('option');
            option.value = city.Present;
            option.dataset.ref = city.DeliveryCity;
            cityList.appendChild(option);
          });
        }
      });
    });

    document.getElementById('city').addEventListener('change', function () {
      const cityInput = this.value;
      const cityOption = [...document.getElementById('city-list').options].find(opt => opt.value === cityInput);
      const cityRef = cityOption?.dataset?.ref;
      if (!cityRef) return;

      fetch('https://api.novaposhta.ua/v2.0/json/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          apiKey: '056bc4d43a3655c3ff721c071c38b8fc',
          modelName: 'Address',
          calledMethod: 'getWarehouses',
          methodProperties: { CityRef: cityRef }
        })
      })
      .then(res => res.json())
      .then(data => {
        const warehouseList = document.getElementById('warehouse-list');
        warehouseList.innerHTML = '';

        if (data.success && data.data.length > 0) {
          data.data.forEach(w => {
            const option = document.createElement('option');
            option.value = `${w.Number}: ${w.Description}`;
            warehouseList.appendChild(option);
          });
        }
      });
    });

    document.getElementById('checkout-form').addEventListener('submit', function (e) {
      e.preventDefault();
      document.getElementById('checkout-form').style.display = 'none';
      document.getElementById('success-message').style.display = 'block';
    });
  </script>

</body>
</html>
